<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Assembler Module &mdash; DART  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Troubleshooting And FAQs" href="../../part3_additional_resources/troubleshooting_and_faqs.html" />
    <link rel="prev" title="Ligand Filter Module" href="../ligand_filters/ligand_filters.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            DART
              <img src="../../../_static/DART_pic.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">How to Use DART</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../part1_getting_started_and_how_to_guides/installation_guide.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../part1_getting_started_and_how_to_guides/examples/simple_octahedral_assembly/simple_octahedral_assembly.html">Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../part1_getting_started_and_how_to_guides/understanding_the_dart_workflow.html">Understanding the DART Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../part1_getting_started_and_how_to_guides/tutorials_and_examples.html">Tutorials And Examples</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">DART Modules</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../module_overview.html">Module Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../metalig/metalig_database.html">MetaLig Ligand Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ligand_filters/ligand_filters.html">Ligand Filter Module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Assembler Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#assembler-input">Assembler Input</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#global-options">Global Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#batch-options">Batch Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#table-overview-of-all-available-assembler-options">Table: overview of all available assembler options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#assembler-output">Assembler Output</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#folder-structure">Folder Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#output-files">Output Files</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Additional Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../part3_additional_resources/troubleshooting_and_faqs.html">Troubleshooting And FAQs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../part3_additional_resources/how_to_cite_dart.html">How To Cite DART</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../part3_additional_resources/version_history.html">Version History</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../part3_additional_resources/contributing_to_dart.html">Contributing to DART</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">DART</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Assembler Module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/doc_files/part2_dart_modules_documentation/assembler/assembler.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="assembler-module">
<span id="assembly-input"></span><h1>Assembler Module<a class="headerlink" href="#assembler-module" title="Permalink to this headline"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#assembler-input" id="id1">Assembler Input</a></p>
<ul>
<li><p><a class="reference internal" href="#global-options" id="id2">Global Options</a></p></li>
<li><p><a class="reference internal" href="#batch-options" id="id3">Batch Options</a></p></li>
<li><p><a class="reference internal" href="#table-overview-of-all-available-assembler-options" id="id4">Table: overview of all available assembler options</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#assembler-output" id="id5">Assembler Output</a></p>
<ul>
<li><p><a class="reference internal" href="#folder-structure" id="id6">Folder Structure</a></p></li>
<li><p><a class="reference internal" href="#output-files" id="id7">Output Files</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="assembler-input">
<h2><a class="toc-backref" href="#id1">Assembler Input</a><a class="headerlink" href="#assembler-input" title="Permalink to this headline"></a></h2>
<p>The DART Assembler Module is designed for generating complexes from a predefined ligand database. It operates by either randomly or systematically selecting ligands and assembling them into a transition metal complex geometry.</p>
<p><strong>Assembler Input File:</strong></p>
<blockquote>
<div><p>The input for the assembler module is structured as a YAML file, consisting of:</p>
<ul>
<li><p><strong>Global Options</strong> include settings like output path, verbosity, and complex name length. These settings apply to all batches in the file.</p></li>
<li><p><strong>Batch Options</strong> specify the details of each complex generation batch, such as metal center, oxidation state, topology, and ligand database paths. Each batch must be named, and various parameters can be set to control the assembly process.</p>
<blockquote>
<div><ul class="simple">
<li><p>The first batch option needs a hyphen (‘-’) in front of it to mark the start of the batch.</p></li>
<li><p>Each batch option is required, but some can be left empty</p></li>
<li><p>Multiple batches can be specified and will be assembled in sequence.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
</div></blockquote>
<p><strong>Copy-Paste Template:</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">output_path</span><span class="p">:</span> <span class="n">assembly</span><span class="o">/</span><span class="n">data_output</span>     <span class="c1"># Output folder path.</span>
<span class="n">overwrite_output</span><span class="p">:</span> <span class="n">false</span>               <span class="c1"># Whether to overwrite the output if it already exists. Recommended: false.</span>
<span class="n">ffmovie</span><span class="p">:</span> <span class="n">true</span>                         <span class="c1"># Whether to output a movie of the optimization process. Set to false to save disk space.</span>
<span class="n">concatenate_xyz</span><span class="p">:</span> <span class="n">true</span>                 <span class="c1"># Whether to concatenate the xyz files of the optimization process.</span>
<span class="n">verbosity</span><span class="p">:</span> <span class="mi">2</span>                          <span class="c1"># Output verbosity level (0-3), recommended: 2.</span>
<span class="n">complex_name_length</span><span class="p">:</span> <span class="mi">8</span>                <span class="c1"># Length for generated complex names, recommended: 8.</span>

<span class="n">batches</span><span class="p">:</span>                              <span class="c1"># List of batches to generate.</span>
  <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">First_batch</span>                 <span class="c1"># Name of the batch.</span>
    <span class="n">metal_center</span><span class="p">:</span> <span class="n">Fe</span>                  <span class="c1"># Chemical symbol of the desired metal center.</span>
    <span class="n">metal_oxidation_state</span><span class="p">:</span> <span class="mi">2</span>          <span class="c1"># Oxidation state of the desired metal center.</span>
    <span class="n">total_charge</span><span class="p">:</span> <span class="mi">0</span>                   <span class="c1"># Total charge of the complex.</span>
    <span class="n">topology</span><span class="p">:</span> <span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">1</span>                   <span class="c1"># Topology of the complexes. :options: 2-1-1, 2-2, 3-2-1, 4-1-1, 5-1</span>
    <span class="n">ligand_db_paths</span><span class="p">:</span> <span class="p">[</span><span class="n">bidentate_ligands</span><span class="o">.</span><span class="n">jsonlines</span><span class="p">,</span> <span class="n">monodentate_ligands</span><span class="o">.</span><span class="n">jsonlines</span><span class="p">,</span> <span class="n">same_ligand_as_previous</span><span class="p">]</span> <span class="c1"># Paths to the ligand databases. Either single path or list of [path, &#39;same_ligand_as_previous&#39;].</span>
    <span class="n">ligand_choice</span><span class="p">:</span> <span class="n">random</span>             <span class="c1"># How to choose the ligands. :options: random, all</span>
    <span class="n">max_num_complexes</span><span class="p">:</span> <span class="mi">100</span>            <span class="c1"># Maximum number of complexes to generate.</span>
    <span class="n">forcefield</span><span class="p">:</span> <span class="n">true</span>                  <span class="c1"># Whether to optimize the structures after generation with a force field.</span>
    <span class="n">isomers</span><span class="p">:</span> <span class="n">lowest_energy</span>            <span class="c1"># Which isomers to generate. :options: lowest_energy, all</span>
    <span class="n">bidentate_rotator</span><span class="p">:</span> <span class="n">auto</span>           <span class="c1"># How to rotate the bidentate ligands. :options: horseshoe, slab, auto</span>
    <span class="n">geometry_modifier_filepath</span><span class="p">:</span>       <span class="c1"># Path to the geometry modifier file. If not given, no geometry modification is performed.</span>
    <span class="n">random_seed</span><span class="p">:</span> <span class="mi">0</span>                    <span class="c1"># Random seed for the generation of the complexes.</span>
    <span class="n">complex_name_appendix</span><span class="p">:</span>            <span class="c1"># String to append to the randomly generated complex name.</span>

  <span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="n">Second_batch</span>                <span class="c1"># Here comes the second batch.</span>
    <span class="n">metal_center</span><span class="p">:</span> <span class="n">Pd</span>                  <span class="c1"># Chemical symbol of the desired metal center.</span>
    <span class="n">metal_oxidation_state</span><span class="p">:</span> <span class="mi">3</span>          <span class="c1"># Oxidation state of the desired metal center.</span>
    <span class="n">total_charge</span><span class="p">:</span> <span class="mi">1</span>                   <span class="c1"># Total charge of the complex.</span>
    <span class="n">topology</span><span class="p">:</span> <span class="mi">3</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span>                   <span class="c1"># Topology for the second batch. :options: 2-1-1, 2-2, 3-2-1, 4-1-1, 5-1</span>
    <span class="n">ligand_db_paths</span><span class="p">:</span> <span class="p">[</span><span class="n">tridentate_ligands</span><span class="o">.</span><span class="n">jsonlines</span><span class="p">,</span> <span class="n">bidentate_ligands</span><span class="o">.</span><span class="n">jsonlines</span><span class="p">,</span> <span class="n">monodentate_ligands</span><span class="o">.</span><span class="n">jsonlines</span><span class="p">]</span> <span class="c1"># Path to the ligand database. Either single path or list of [path, &#39;same_ligand_as_previous&#39;].</span>
    <span class="n">ligand_choice</span><span class="p">:</span> <span class="nb">all</span>                <span class="c1"># How to choose the ligands. :options: random, all</span>
    <span class="n">max_num_complexes</span><span class="p">:</span> <span class="mi">100</span>            <span class="c1"># Maximum number of complexes to generate.</span>
    <span class="n">forcefield</span><span class="p">:</span> <span class="n">false</span>                 <span class="c1"># Whether to optimize the structures after generation with a force field.</span>
    <span class="n">isomers</span><span class="p">:</span> <span class="nb">all</span>                      <span class="c1"># Which isomers to generate. :options: lowest_energy, all</span>
    <span class="n">bidentate_rotator</span><span class="p">:</span> <span class="n">horseshoe</span>      <span class="c1"># How to rotate the bidentate ligands. :options: horseshoe, slab, auto</span>
    <span class="n">geometry_modifier_filepath</span><span class="p">:</span> <span class="n">geometry_modifier</span><span class="o">.</span><span class="n">xyz</span>      <span class="c1"># Path to the geometry modifier file. If empty, no geometry modification is performed.</span>
    <span class="n">random_seed</span><span class="p">:</span> <span class="mi">1</span>                    <span class="c1"># Random seed for the generation of the complexes.</span>
    <span class="n">complex_name_appendix</span><span class="p">:</span> <span class="n">_2nd_batch</span> <span class="c1"># String to append to the randomly generated complex name.</span>
</pre></div>
</div>
<section id="global-options">
<h3><a class="toc-backref" href="#id2">Global Options</a><a class="headerlink" href="#global-options" title="Permalink to this headline"></a></h3>
<p>The assembler requires specifying global options at the file’s beginning. These settings apply universally across all batches.</p>
<dl class="std confval">
<dt class="sig sig-object std" id="confval-output_path">
<span class="sig-name descname"><span class="pre">output_path</span></span><a class="headerlink" href="#confval-output_path" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p><cite>dirpath</cite></p>
</dd>
</dl>
<p>Path to directory in which the output will be saved.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-overwrite_output">
<span class="sig-name descname"><span class="pre">overwrite_output</span></span><a class="headerlink" href="#confval-overwrite_output" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">false</span></code> (recommended: <code class="docutils literal notranslate"><span class="pre">false</span></code>)</p>
</dd>
</dl>
<p>Whether to overwrite the output if it already exists.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-ffmovie">
<span class="sig-name descname"><span class="pre">ffmovie</span></span><a class="headerlink" href="#confval-ffmovie" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p>Whether to output a movie of the optimization process. Set to false to save disk space.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-concatenate_xyz">
<span class="sig-name descname"><span class="pre">concatenate_xyz</span></span><a class="headerlink" href="#confval-concatenate_xyz" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p>Whether to concatenate the xyz files of the optimization process.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-verbosity">
<span class="sig-name descname"><span class="pre">verbosity</span></span><a class="headerlink" href="#confval-verbosity" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0</span></code>, <code class="docutils literal notranslate"><span class="pre">1</span></code>, <code class="docutils literal notranslate"><span class="pre">2</span></code>, <code class="docutils literal notranslate"><span class="pre">3</span></code> (recommended: <code class="docutils literal notranslate"><span class="pre">2</span></code>)</p>
</dd>
</dl>
<p>How much output to print (except the progress bars, which are always printed). <code class="docutils literal notranslate"><span class="pre">0</span></code> means only errors, <code class="docutils literal notranslate"><span class="pre">1</span></code> means also warnings, <code class="docutils literal notranslate"><span class="pre">2</span></code> means also normal info, <code class="docutils literal notranslate"><span class="pre">3</span></code> means also debug info.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-complex_name_length">
<span class="sig-name descname"><span class="pre">complex_name_length</span></span><a class="headerlink" href="#confval-complex_name_length" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p><cite>integer &gt; 0</cite></p>
</dd>
</dl>
<p>Length of the randomly generated complex name (e.g. ‘ZUMUVAMI’). Recommended: <code class="docutils literal notranslate"><span class="pre">8</span></code>.</p>
</dd></dl>

</section>
<section id="batch-options">
<h3><a class="toc-backref" href="#id3">Batch Options</a><a class="headerlink" href="#batch-options" title="Permalink to this headline"></a></h3>
<p>Each batch in the assembler input file defines configurations for generating complexes. The first option in each batch must be preceded by a hyphen (‘-’) to denote the start. All batch options are required, but some can remain unspecified if defaults are to be used. Multiple batches can be defined and will be assembled sequentially.</p>
<dl class="std confval">
<dt class="sig sig-object std" id="confval-name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#confval-name" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p><cite>string</cite></p>
</dd>
</dl>
<p>Unique name for the batch for easy identification.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-topology">
<span class="sig-name descname"><span class="pre">topology</span></span><a class="headerlink" href="#confval-topology" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">3-2-1</span></code>, <code class="docutils literal notranslate"><span class="pre">4-1-1</span></code>, <code class="docutils literal notranslate"><span class="pre">5-1</span></code>, <code class="docutils literal notranslate"><span class="pre">2-1-1</span></code>, <code class="docutils literal notranslate"><span class="pre">2-2</span></code></p>
</dd>
</dl>
<p>The topology specifies the denticities of the ligands around the complex. For example, <code class="docutils literal notranslate"><span class="pre">3-2-1</span></code> would generate a complex with one tridentate, one bidentate and one monodentate ligand. Currently, the following topologies are supported:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Octahedral complexes:</strong> <code class="docutils literal notranslate"><span class="pre">3-2-1</span></code>, <code class="docutils literal notranslate"><span class="pre">4-1-1</span></code>, <code class="docutils literal notranslate"><span class="pre">5-1</span></code></p></li>
<li><p><strong>Square-planar complexes:</strong> <code class="docutils literal notranslate"><span class="pre">2-1-1</span></code>, <code class="docutils literal notranslate"><span class="pre">2-2</span></code></p></li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-ligand_db_paths">
<span class="sig-name descname"><span class="pre">ligand_db_paths</span></span><a class="headerlink" href="#confval-ligand_db_paths" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p><cite>empty</cite> OR <cite>filepath</cite> OR list(<cite>filepath / keyword</cite> )</p>
</dd>
</dl>
<p>Specifies the source databases for ligands used in complex assembly. This option can be configured in two ways:</p>
<ul class="simple">
<li><p><strong>List of Filepaths and/or Keywords:</strong>
A list where each entry is either a path to a ligand database file or the keyword <code class="docutils literal notranslate"><span class="pre">same_ligand_as_previous</span></code>. The list should match the number of ligand sites as defined in the <a class="reference internal" href="#confval-topology"><code class="xref std std-confval docutils literal notranslate"><span class="pre">topology</span></code></a> option. For instance, in a <code class="docutils literal notranslate"><span class="pre">3-2-1</span></code> topology, the first database in the list supplies tridentate ligands, the second supplies bidentate, and the third supplies monodentate ligands. The <code class="docutils literal notranslate"><span class="pre">same_ligand_as_previous</span></code> keyword can be used in place of a path to indicate that the ligand for the current site should be identical to the one used in the previous site for each assembled complex. This feature is useful for creating complexes with symmetrical or repeating ligand structures.</p></li>
<li><p><strong>Single Filepath or Empty:</strong>
When a single path is provided, ligands for all sites will be drawn from this database. Identical to specifying a list with the same ligand db path for each ligand site. If empty, the entire <a class="reference internal" href="../metalig/metalig_database.html#metalig"><span class="std std-ref">MetaLig database</span></a> will be used.</p></li>
</ul>
<p>Note: Ligands in the database with a denticity not matching the specified <a class="reference internal" href="#confval-topology"><code class="xref std std-confval docutils literal notranslate"><span class="pre">topology</span></code></a> will be ignored during the assembly process. This ensures that only compatible ligands are selected for complex formation.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-ligand_choice">
<span class="sig-name descname"><span class="pre">ligand_choice</span></span><a class="headerlink" href="#confval-ligand_choice" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">random</span></code>, <code class="docutils literal notranslate"><span class="pre">all</span></code></p>
</dd>
</dl>
<p>If <code class="docutils literal notranslate"><span class="pre">random</span></code>, ligands will be chosen at random from the ligand database to assemble complexes. If <code class="docutils literal notranslate"><span class="pre">all</span></code>, every possible combination of ligands will systematically be assembled. Note that this can lead to a very large number of complexes. The option <a class="reference internal" href="#confval-max_num_complexes"><code class="xref std std-confval docutils literal notranslate"><span class="pre">max_num_complexes</span></code></a> is used either way to limit the number of complexes generated.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-max_num_complexes">
<span class="sig-name descname"><span class="pre">max_num_complexes</span></span><a class="headerlink" href="#confval-max_num_complexes" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p><cite>integer &gt; 0</cite></p>
</dd>
</dl>
<p>Maximum number of complexes to generate. Notes:</p>
<ul class="simple">
<li><p>If <a class="reference internal" href="#confval-isomers"><code class="xref std std-confval docutils literal notranslate"><span class="pre">isomers</span></code></a> is set to <code class="docutils literal notranslate"><span class="pre">all</span></code>, each isomer is counted as different complex. Note that the actual number of complexes generated can be a little higher in this case because for the last complex, all isomers are saved, even if this exceeds <a class="reference internal" href="#confval-max_num_complexes"><code class="xref std std-confval docutils literal notranslate"><span class="pre">max_num_complexes</span></code></a>.</p></li>
<li><p>If <a class="reference internal" href="#confval-ligand_choice"><code class="xref std std-confval docutils literal notranslate"><span class="pre">ligand_choice</span></code></a> is set to <code class="docutils literal notranslate"><span class="pre">all</span></code>, <a class="reference internal" href="#confval-max_num_complexes"><code class="xref std std-confval docutils literal notranslate"><span class="pre">max_num_complexes</span></code></a> will still be used to limit the number of complexes generated. To stop only after every possible complex is generated, set <a class="reference internal" href="#confval-max_num_complexes"><code class="xref std std-confval docutils literal notranslate"><span class="pre">max_num_complexes</span></code></a> to a very large number.</p></li>
</ul>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-metal_center">
<span class="sig-name descname"><span class="pre">metal_center</span></span><a class="headerlink" href="#confval-metal_center" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p><cite>chemical symbol</cite></p>
</dd>
</dl>
<p>Chemical symbol of the desired metal center, e.g. <code class="docutils literal notranslate"><span class="pre">Pd</span></code> or <code class="docutils literal notranslate"><span class="pre">Fe</span></code>.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-metal_oxidation_state">
<span class="sig-name descname"><span class="pre">metal_oxidation_state</span></span><a class="headerlink" href="#confval-metal_oxidation_state" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p><cite>integer &gt; 0</cite></p>
</dd>
</dl>
<p>Oxidation state of the desired metal center, e.g. <code class="docutils literal notranslate"><span class="pre">3</span></code>.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-total_charge">
<span class="sig-name descname"><span class="pre">total_charge</span></span><a class="headerlink" href="#confval-total_charge" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p><cite>integer</cite></p>
</dd>
</dl>
<p>Total charge of the complex. Can be positive, negative or zero.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-forcefield">
<span class="sig-name descname"><span class="pre">forcefield</span></span><a class="headerlink" href="#confval-forcefield" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p>Whether to relax the generated structures with a force field before the post-assembly filters. Currently, the only available force field is the Universal Force Field (UFF).</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-isomers">
<span class="sig-name descname"><span class="pre">isomers</span></span><a class="headerlink" href="#confval-isomers" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">lowest_energy</span></code>, <code class="docutils literal notranslate"><span class="pre">all</span></code></p>
</dd>
</dl>
<p>The assembler will always generate all possible isomers. The option <a class="reference internal" href="#confval-isomers"><code class="xref std std-confval docutils literal notranslate"><span class="pre">isomers</span></code></a> determines which isomers are saved. If <code class="docutils literal notranslate"><span class="pre">lowest_energy</span></code>, only the lowest energy isomer is saved as determined by a UFF forcefield. If <code class="docutils literal notranslate"><span class="pre">all</span></code>, all isomers are saved.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-bidentate_rotator">
<span class="sig-name descname"><span class="pre">bidentate_rotator</span></span><a class="headerlink" href="#confval-bidentate_rotator" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">auto</span></code>, <code class="docutils literal notranslate"><span class="pre">horseshoe</span></code>, <code class="docutils literal notranslate"><span class="pre">slab</span></code></p>
</dd>
</dl>
<p>How to assemble bidentate ligands to the complex. Effects only ligands with denticity of 2. <code class="docutils literal notranslate"><span class="pre">horseshoe</span></code> and <code class="docutils literal notranslate"><span class="pre">slab</span></code> are the shapes of the underlying potential energy surfaces. <code class="docutils literal notranslate"><span class="pre">horseshoe</span></code> works best for ligands with a planar metallacycle, while non-planar ligands often give better results with <code class="docutils literal notranslate"><span class="pre">slab</span></code>. <code class="docutils literal notranslate"><span class="pre">auto</span></code> will choose the shape automatically based on the ligand geometry.</p>
<p>Tip: This option can severely affect the quality of generated complexes and how many make it through the post-assembly filter. For serious applications we recommend to set <a class="reference internal" href="#confval-max_num_complexes"><code class="xref std std-confval docutils literal notranslate"><span class="pre">max_num_complexes</span></code></a> to <code class="docutils literal notranslate"><span class="pre">100</span></code>, try all three options and check how many complexes fail the post-assembly filter for each option (this info is returned at the end of the assembly if <a class="reference internal" href="#confval-verbosity"><code class="xref std std-confval docutils literal notranslate"><span class="pre">verbosity</span></code></a> &gt;= <code class="docutils literal notranslate"><span class="pre">2</span></code>). Whichever option has the least complexes failing the post-assembly filter usually gives the highest quality complexes.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-geometry_modifier_filepath">
<span class="sig-name descname"><span class="pre">geometry_modifier_filepath</span></span><a class="headerlink" href="#confval-geometry_modifier_filepath" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p><cite>empty</cite> OR <cite>filepath</cite></p>
</dd>
</dl>
<p>Path to the geometry modifier file. If left empty, no geometry modification is performed.</p>
<p>The geometry modifier file allows very advanced and fine-grained control over the geometry of the generated complexes. Usually it is not needed, since a forcefield optimization will often be a better option. However, there might be cases where it is desired to move atoms in an assembled ligand from one position to another position for all complexes with this ligand. This can be achieved with the geometry modifier file as shown in the Pd/Ni cross coupling example.</p>
<p>For moving an atom to another position you need to supply the chemical symbol and the coordinates of the original atom and the coordinates the atom at it’s new coordinates. The geometry modifier file is an .xyz file with two sets of atoms: The first set is all atoms that should be moved, the second set is the new positions of these atoms. Both sets of atoms are provided as “molecule” in the .xyz format and concatenated. The order and the chemical elements of both sets of atoms have to match up. In the assembly, for each generated complex, the atoms with coordinates in the first set are moved to the coordinates in the second set.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-random_seed">
<span class="sig-name descname"><span class="pre">random_seed</span></span><a class="headerlink" href="#confval-random_seed" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p><cite>integer</cite></p>
</dd>
</dl>
<p>Sets a seed for the random number generator to make the assembly of complexes exactly reproducible for each individual batch.</p>
</dd></dl>

<dl class="std confval">
<dt class="sig sig-object std" id="confval-complex_name_appendix">
<span class="sig-name descname"><span class="pre">complex_name_appendix</span></span><a class="headerlink" href="#confval-complex_name_appendix" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Options</dt>
<dd class="field-odd"><p><cite>empty</cite> or <cite>string</cite></p>
</dd>
</dl>
<p>Appends a custom string to the randomly generated name of each assembled complex. For example, if the appendix is set to <code class="docutils literal notranslate"><span class="pre">_charge1</span></code>, a generated complex will be named ‘ZUMUVAMI_charge1’ if otherwise it would have been named ‘ZUMUVAMI’.</p>
</dd></dl>

</section>
<section id="table-overview-of-all-available-assembler-options">
<h3><a class="toc-backref" href="#id4">Table: overview of all available assembler options</a><a class="headerlink" href="#table-overview-of-all-available-assembler-options" title="Permalink to this headline"></a></h3>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 10%" />
<col style="width: 20%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Options</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>output_path</p></td>
<td><p>global</p></td>
<td><p><cite>dirpath</cite></p></td>
<td><p>Path in which the output will be saved.</p></td>
</tr>
<tr class="row-odd"><td><p>overwrite_output</p></td>
<td><p>global</p></td>
<td><p>true; false</p></td>
<td><p>Whether to overwrite the output if it already exists. Recommended: false.</p></td>
</tr>
<tr class="row-even"><td><p>ffmovie</p></td>
<td><p>global</p></td>
<td><p>true; false</p></td>
<td><p>Whether to output a movie of the optimization process. Set to false to save disk space.</p></td>
</tr>
<tr class="row-odd"><td><p>concatenate_xyz</p></td>
<td><p>global</p></td>
<td><p>true; false</p></td>
<td><p>Whether to concatenate the xyz files of the optimization process.</p></td>
</tr>
<tr class="row-even"><td><p>verbosity</p></td>
<td><p>global</p></td>
<td><p>0; 1; 2; 3</p></td>
<td><p>How much output to print. Recommended is 2.</p></td>
</tr>
<tr class="row-odd"><td><p>complex_name_length</p></td>
<td><p>global</p></td>
<td><p><cite>int &gt; 0</cite></p></td>
<td><p>Length of the randomly generated complex name. Recommended: 8.</p></td>
</tr>
<tr class="row-even"><td><p>name</p></td>
<td><p>batch</p></td>
<td><p><cite>str</cite></p></td>
<td><p>Use this to name your batches for easier identification.</p></td>
</tr>
<tr class="row-odd"><td><p>metal_center</p></td>
<td><p>batch</p></td>
<td><p><cite>chemical symbol</cite></p></td>
<td><p>Chemical symbol of the desired metal center.</p></td>
</tr>
<tr class="row-even"><td><p>metal_oxidation_state</p></td>
<td><p>batch</p></td>
<td><p><cite>int &gt; 0</cite></p></td>
<td><p>Oxidation state of the desired metal center.</p></td>
</tr>
<tr class="row-odd"><td><p>total_charge</p></td>
<td><p>batch</p></td>
<td><p><cite>int</cite></p></td>
<td><p>Total charge of the complex.</p></td>
</tr>
<tr class="row-even"><td><p>topology</p></td>
<td><p>batch</p></td>
<td><p>3-2-1; 4-1-1; 5-1; 2-1-1; 2-2</p></td>
<td><p>The desired denticities of the ligands of the complex.</p></td>
</tr>
<tr class="row-odd"><td><p>ligand_db_paths</p></td>
<td><p>batch</p></td>
<td><p><cite>filepath</cite> or list(<cite>filepath / keyword</cite> )</p></td>
<td><p>Paths to the ligand database to use for assembling the complexes.</p></td>
</tr>
<tr class="row-even"><td><p>ligand_choice</p></td>
<td><p>batch</p></td>
<td><p>random; all</p></td>
<td><p>Choose ligands randomly or systematically to assemble complexes.</p></td>
</tr>
<tr class="row-odd"><td><p>max_num_complexes</p></td>
<td><p>batch</p></td>
<td><p><cite>int &gt; 0</cite></p></td>
<td><p>Maximum number of complexes to generate.</p></td>
</tr>
<tr class="row-even"><td><p>forcefield</p></td>
<td><p>batch</p></td>
<td><p>true; false</p></td>
<td><p>Whether to relax the generated structures with a force field.</p></td>
</tr>
<tr class="row-odd"><td><p>isomers</p></td>
<td><p>batch</p></td>
<td><p>lowest_energy; all</p></td>
<td><p>Which isomers to save.</p></td>
</tr>
<tr class="row-even"><td><p>bidentate_rotator</p></td>
<td><p>batch</p></td>
<td><p>auto; horseshoe; slab</p></td>
<td><p>How to assemble bidentate ligands to the complex.</p></td>
</tr>
<tr class="row-odd"><td><p>geometry_modifier_filepath</p></td>
<td><p>batch</p></td>
<td><p><cite>filepath</cite></p></td>
<td><p>Path to the geometry modifier file.</p></td>
</tr>
<tr class="row-even"><td><p>random_seed</p></td>
<td><p>batch</p></td>
<td><p><cite>int</cite></p></td>
<td><p>A seed for any random number generator in the assembly process.</p></td>
</tr>
<tr class="row-odd"><td><p>complex_name_appendix</p></td>
<td><p>batch</p></td>
<td><p><cite>str</cite></p></td>
<td><p>Characters to append to the randomly generated complex name.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="assembler-output">
<span id="assembly-output"></span><h2><a class="toc-backref" href="#id5">Assembler Output</a><a class="headerlink" href="#assembler-output" title="Permalink to this headline"></a></h2>
<p>The output of the DART assembler will be saved in a specific folder. This folder is determined by the <a class="reference internal" href="#confval-output_path"><code class="xref std std-confval docutils literal notranslate"><span class="pre">output_path</span></code></a> you set in your assembly input file. Within this folder, each generated metal complex has a unique name such as ‘IKOTENIC’, which is automatically generated based on its coordinates.</p>
<p>The assembler module creates not only the xyz files for each complex but also various other files that could be of interest. Below, you’ll find an overview of all files and folders generated by the DART assembler.</p>
<section id="folder-structure">
<h3><a class="toc-backref" href="#id6">Folder Structure</a><a class="headerlink" href="#folder-structure" title="Permalink to this headline"></a></h3>
<p>Here’s what the output folder will look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>output_path/
├── info_table.csv                  (Summary Table)
├── concat_passed_complexes.xyz     (Successful Complexes)
├── ffmovie.xyz                     (Forcefield Trajectories)
└── batches/                        (Batch Folders)
    ├── batch_1/
    │   ├── concat_passed_complexes.xyz
    │   ├── concat_failed_complexes.xyz
    │   ├── concat_passed_ffmovie.xyz
    │   ├── concat_failed_ffmovie.xyz
    │   └── complexes/              (Individual Complex Folders)
    │       ├── complex_1/
    │       │   ├── complex_1_structure.xyz
    │       │   ├── complex_1_ligandinfo.csv
    │       │   ├── complex_1_ffmovie.xyz
    │       │   └── complex_1_data.json
    │       ├── complex_2/
    │       └── ...
    └── batch_2/
        └── ...
</pre></div>
</div>
</section>
<section id="output-files">
<h3><a class="toc-backref" href="#id7">Output Files</a><a class="headerlink" href="#output-files" title="Permalink to this headline"></a></h3>
<dl>
<dt>General Output Files:</dt><dd><p>These files provide a broad overview of the assembly process:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">batches/</span></code>: This is a folder that contains all the batches of assembled complexes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">info_table.csv</span></code>: This is a summary table listing all generated complexes and their characteristics. It’s a good starting point for understanding the results.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">concat_passed_complexes.xyz</span></code>: This file contains the coordinates of all successfully generated complexes, bundled together. You can visualize these using software like ASE.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ffmovie.xyz</span></code>: This contains forcefield optimization trajectories for the successfully generated complexes.</p></li>
</ul>
</dd>
<dt>Batch-Specific Files:</dt><dd><p>Inside the <code class="docutils literal notranslate"><span class="pre">batches/</span></code> folder, you’ll find separate folders for each batch. These folders may contain:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">complexes/</span></code>: This is a folder that contains all the complexes for that batch.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">concat_passed_complexes.xyz</span></code>: Coordinates of successful complexes for that specific batch.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">concat_failed_complexes.xyz</span></code>: Coordinates of complexes that failed to assemble correctly.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">concat_passed_ffmovie.xyz</span></code>: Forcefield optimization trajectories for successful complexes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">concat_failed_ffmovie.xyz</span></code>: Forcefield optimization trajectories for failed complexes.</p></li>
</ul>
<p>If a file is missing, that means no complexes fall into that category for the batch (e.g., no failed complexes).</p>
</dd>
<dt>Complex-Specific Files:</dt><dd><p>Within each batch, each complex has its own folder under <code class="docutils literal notranslate"><span class="pre">complexes/</span></code>. These folders contain:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">NAME_structure.xyz</span></code>: The 3D coordinates of the complex.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NAME_ligandinfo.csv</span></code>: Detailed information about the ligands in the complex.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NAME_ffmovie.xyz</span></code>: Forcefield optimization trajectory for the complex, if activated.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NAME_data.json</span></code>: This is a machine-readable data file, useful for further computational analysis.</p></li>
</ul>
</dd>
</dl>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../ligand_filters/ligand_filters.html" class="btn btn-neutral float-left" title="Ligand Filter Module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../part3_additional_resources/troubleshooting_and_faqs.html" class="btn btn-neutral float-right" title="Troubleshooting And FAQs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Timo Sommer, Cian Clarke.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
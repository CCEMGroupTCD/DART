<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<title>Usage of the DART assembler</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 8954 2022-01-20 10:10:25Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See https://docutils.sourceforge.io/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="usage-of-the-dart-assembler">
<h1 class="title">Usage of the DART assembler</h1>

<p>This example shows the most simple example of how to use the DART assembler. As an example, we will generate octahedral Pd(II) complexes with total charge 0. Each complex will have one tridentate, one bidentate and one monodentate ligand, i.e. a 3-2-1 topology.</p>
<p>For a start, please open the terminal and check if DART is installed in the currently activated conda environment via <tt class="docutils literal">dart <span class="pre">--help</span></tt>. If this does not work, please check the troubleshooting section under <a href="#system-message-1"><span class="problematic" id="problematic-1">:ref:`my-reference-label`</span></a>. If it works, please proceed.</p>
<div class="system-message" id="system-message-1">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/timosommer/PhD/projects/RCA/projects/DART/docs/doc_files/examples/simple_octahedral_assembly/simple_assembly.rst</tt>, line 6); <em><a href="#problematic-1">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
<p>Open the terminal. First, let's generate a folder for the output and change into it:</p>
<pre class="code bash literal-block">
mkdir dart_usage
<span class="name builtin">cd</span> dart_usage
</pre>
<p>Now we need to create an input yaml file which specifies all the options for the assembler module. Please create a file called <tt class="docutils literal">assembly_input.yaml</tt> with the following content:</p>
<pre class="code literal-block">
output_path: DART_output              # Path to the output folder.
overwrite_output: false               # Whether to overwrite the output if it already exists. Recommended: false.

ffmovie: true                         # Whether to output a movie of the optimization process. Set to false to save disk space.
concatenate_xyz: true                 # Whether to concatenate the xyz files of the optimization process.
verbosity: 2                          # How much output to print. Options: (0, 1, 2, 3), recommended is 2.
complex_name_length: 8                # Length of the complex name. Recommended: 8.

batches:                              # List of batches to generate. The first option in each batch needs a hyphen ('-') in front of it to mark the start of the batch.
  - name: Octahedral_Pd(II)           # Name of the batch. Note the hyphen in front of it to mark the start of the batch.
    topology: 3-2-1                   # Topology of the complexes. Options: 2-1-1, 2-2, 3-2-1, 4-1-1, 5-1
    ligand_db_paths:                  # Path to the ligand database. Either single path or list of [path, 'same_ligand_as_previous'].
    ligand_choice: random             # How to choose the ligands. Options: random, all
    max_num_complexes: 100            # Maximum number of complexes to generate.
    metal:
      element: Pd                     # Chemical symbol of the desired metal center.
      oxidation_state: 2              # Oxidation state of the desired metal center.
      spin: 0                         # Spin of the desired metal center. Only needed for later DFT or xtb structure relaxations.
    total_charge: 0                   # Total charge of the complex.
    forcefield: true                  # Whether to optimize the structures after generation with a force field.
    isomers: lowest_energy            # Which isomers to generate. Options: lowest_energy, all
    bidentate_rotator: auto           # How to rotate the bidentate ligands. Options: horseshoe, slab, auto
    gaussian_input_filepath:          # Path to the Gaussian config file. If not given, no Gaussian input files are generated.
    geometry_modifier_filepath:       # Path to the geometry modifier file. If not given, no geometry modification is performed.
    random_seed: 0                    # Random seed for the generation of the complexes.
    complex_name_appendix:            # String to append to the randomly generated complex name.
</pre>
<p>Now, open the terminal application and run the following command:</p>
<pre class="code bash literal-block">
dart assembler assembly_input.yaml
</pre>
<p>This will start the assembler module with the given input file. The assembler will generate the complexes. The output will be written to the folder <tt class="docutils literal">DART_output</tt>. The output folder will contain the following files:</p>
<ul class="simple">
<li><tt class="docutils literal">info_table.csv</tt>: A table with an overview over all successfully generated complexes and all attempts to generate complexes.</li>
<li><tt class="docutils literal">concat_passed_complexes.xyz</tt>: A concatenated xyz file of all successfully generated complexes.</li>
<li><tt class="docutils literal">ffmovie.xyz</tt>: A concatenated xyz file of trajectories of the forcefield optimization of all successfully generated complexes.</li>
</ul>
<p>Additionally, the folder <cite>batches</cite> contains the a folder for each generated batch. Each batch folder contains the following files:</p>
<ul class="simple">
<li><tt class="docutils literal">concat_passed_complexes.xyz</tt>: A concatenated xyz file of all successfully generated complexes of this batch.</li>
<li><tt class="docutils literal">concat_failed_complexes.xyz</tt>: A concatenated xyz file of all failed attempts to generate complexes of this batch.</li>
<li><tt class="docutils literal">concat_passed_ffmovie.xyz</tt>: A concatenated xyz file of trajectories of the forcefield optimization of all successfully generated complexes of this batch.</li>
<li><tt class="docutils literal">concat_failed_ffmovie.xyz</tt>: A concatenated xyz file of trajectories of the forcefield optimization of all failed attempts to generate complexes of this batch.</li>
</ul>
<p>In the folder 'complexes', each complex is stored in a separate folder. Each complex has a randomly generated name based on it's coordinates. The folder contains the following files:</p>
<ul class="simple">
<li><tt class="docutils literal">NAME_structure.xyz</tt>: An xyz file of the complex</li>
<li><tt class="docutils literal">NAME_ligandinfo.csv</tt>: A csv file with lots of information about all ligands in the complex</li>
<li><tt class="docutils literal">NAME_ffmovie.xyz</tt>: An xyz file of the trajectory of the forcefield optimization of the complex. Only generated if the option <tt class="docutils literal">ffmovie</tt> is set to <tt class="docutils literal">true</tt>.</li>
<li><tt class="docutils literal">NAME_data.json</tt>: A machine-readable json file with all kinds of data about the complex. Useful for further processing of the complex.</li>
</ul>
</div>
</body>
</html>
